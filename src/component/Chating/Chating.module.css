:root{
    --bg:#f6f7fb;
    --card:#fff;
    --muted:#8b95a1;
    --primary:#4f46e5;
    --border:#e5e7eb;
    --shadow:0 10px 24px rgba(0,0,0,.06);
}

/* ✅ 가로 스크롤 전면 차단 + 박스사이징 고정 */
*,
*::before,
*::after{ box-sizing: border-box; }
html, body, #root{
    height:100%;
    width:100%;
    margin:0;
    padding:0;
    overflow-x:hidden; /* 가로 스크롤 차단 */
    background:var(--bg);
}

/* 페이지 레이아웃 */
.page{
    min-height:100dvh;
    display:flex;
    flex-direction:column;
    width:100%;
    max-width:100%;
    overflow-x:hidden; /* 혹시 모를 넘침 2차 차단 */
}

/* 헤더 */
.header{
    height:56px;
    display:flex;align-items:center;justify-content:space-between;
    padding:0 12px;
    background: linear-gradient(180deg,#ecf0ff 0%,#ffffff 60%);
    border-bottom:1px solid #f0f2f6;
}
.headerTitle{ font-weight:700; }
.iconBtn{
    width:36px;height:36px;border-radius:10px;border:1px solid #edf0f5;
    display:grid;place-items:center;background:#fff;cursor:pointer;flex-shrink:0;
}

/* 본문 표면 */
.surface{
    flex:1;
    width:100%;          /* ✅ */
    max-width:100%;      /* ✅ */
    padding:12px 12px 16px 12px;
}

/* 채팅 화면 */
.chatWrap{
    display:flex;flex-direction:column;
    height:calc(100dvh - 56px - 16px);
    width:100%; max-width:100%; /* ✅ */
}
.messages{
    flex:1;overflow:auto;padding:8px 4px;
    background: linear-gradient(180deg, #f4f6ff 0%, #ffffff 22%);
    border-radius:12px;border:1px solid var(--border);
    width:100%; max-width:100%; /* ✅ */
}
.bubble{
    max-width:82%;
    border-radius:14px;padding:10px 12px;margin:10px 8px;
    border:1px solid #e9ecf3;background:#fff;
    word-wrap:break-word; word-break:break-word; /* ✅ 긴 단어 줄바꿈 */
}
.me{ margin-left:auto; background:#e0e7ff; border-color:#c7d2fe; }
.bot{ margin-right:auto; background:#fff; }

.metaRow{ display:flex;gap:8px;align-items:center;margin-bottom:6px;font-size:12px;opacity:.85; }
.tag{ background:#111827;color:#fff;border-radius:999px;padding:2px 8px;font-size:11px; }
.time{ color:#bfc6d1; }
.text{ white-space:pre-wrap; word-break:break-word; font-size:14px; }

/* 입력 도크 */
.inputRow,
.inputDock{
    display:flex;align-items:center;gap:8px;
    width:100%; max-width:100%;      /* ✅ */
    padding-top:10px;
}
.input{
    flex:1;
    border:1px solid var(--border);
    border-radius:999px;
    height:44px;padding:0 16px;font-size:14px;background:#fff;outline:none;
    min-width:0; /* ✅ flex 안에서 내용으로 인해 넘지 않도록 */
}
.sendFab{
    width:40px;height:40px;border-radius:999px;border:none;cursor:pointer;
    background:var(--primary);color:#fff;display:grid;place-items:center;
    flex-shrink:0; /* ✅ 버튼이 줄어들되 넘치지 않음 */
}

/* 보조 텍스트 */
.muted{ color:var(--muted); font-size:13px; }
.error{ color:#b91c1c; font-size:13px; margin-top:8px; }

/* 사이드 드로어 */
.drawer{
    position:fixed;top:0;right:0;bottom:0;width:86%;
    max-width:420px;background:#fff;box-shadow:var(--shadow);
    transform:translateX(100%);transition:transform .28s ease;z-index:40;
    display:flex;flex-direction:column;
}
.open{ transform:translateX(0); }
.scrim{
    position:fixed;inset:0;background:rgba(0,0,0,.15);backdrop-filter:blur(2px);z-index:30;
}
.drawerHeader{
    display:flex;gap:8px;align-items:center;padding:12px;border-bottom:1px solid #f0f2f6;
    background: linear-gradient(180deg, #ecf0ff 0%, #ffffff 70%);
}
.searchBar{
    flex:1;height:40px;border:1px solid #e6e8ef;border-radius:999px;
    display:flex;align-items:center;padding:0 12px;background:#f8f9fb;min-width:0;
}
.searchIcon{ font-size:14px; margin-right:6px; flex-shrink:0; }
.searchInput{ flex:1;border:none;outline:none;background:transparent;font-size:14px; min-width:0; }
.drawerBody{ padding:16px 12px; }
.sectionTitle{ color:#8c95a5; font-size:12px; margin:8px 0; }
.drawerBubble{
    display:inline-block; border:1px solid #e7ebf4; background:#fff;
    border-radius:999px; padding:10px 12px; font-size:13px; margin:8px 0;
}
.emptyNote{ color:#c0c6d2; font-size:13px; margin-top:12px; }

/* 큰 화면에서만 카드처럼 중앙 정렬 (가로 스크롤 없는 한도) */
@media (min-width: 768px){
    .surface{ max-width:420px; margin:0 auto; }
    .page{ background:var(--bg); }
}
